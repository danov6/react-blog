(this["webpackJsonpreact-blog"]=this["webpackJsonpreact-blog"]||[]).push([[0],{109:function(e,t,a){e.exports=a(159)},159:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),o=a.n(l),c=a(12),i=a(36),s=a(13),m=a(46),u=a(37),d=Object(m.b)({home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{articles:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HOME_PAGE_LOADED":return Object(u.a)({},e,{articles:t.data.articles});case"SUBMIT_ARTICLE":return Object(u.a)({},e,{articles:[t.data.article].concat(e.articles)});case"DELETE_ARTICLE":return Object(u.a)({},e,{articles:e.articles.filter((function(e){return e._id!==t.id}))});case"SET_EDIT":return Object(u.a)({},e,{articleToEdit:t.article});case"EDIT_ARTICLE":return Object(u.a)({},e,{articles:e.articles.map((function(e){return e._id===t.data.article._id?Object(u.a)({},t.data.article):e})),articleToEdit:void 0});case"CANCEL_EDIT":return Object(u.a)({},e,{articleToEdit:void 0});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.user;case"LOGOUT":return{};default:return e}}}),p=Object(m.c)(d),h=a(14),g=a(10),f=a(15),b=a(16),E=a(17),v=a(20),y=a.n(v),w=a(51),C=a.n(w),N=a(52),O=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).getStyle=function(e){var t="";return"Arts"===e?t="badge-success":"Education"===e?t="badge-success":"Music"===e?t="badge-warning":"Software"===e?t="badge-primary":"Sports"===e?t="badge-danger":"Technology"===e&&(t="badge-info"),t},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.onLoad;y()("http://localhost:8000/articles").then((function(t){return e(t.data)}))}},{key:"render",value:function(){var e=this,t=this.props.articles;return console.log(t),r.a.createElement("div",{className:"app_container container"},r.a.createElement(N.Helmet,null,r.a.createElement("title",null,"Home")),r.a.createElement("div",null,r.a.createElement("div",{className:"col-12 col-lg-6 offset-lg-3"},r.a.createElement("h1",{className:"text-center"},"Test"))),r.a.createElement("div",{className:"row pt-5"},r.a.createElement("div",{className:"col-12"},t.map((function(t,a){return r.a.createElement("div",{className:"media",key:a},r.a.createElement("img",{src:"https://via.placeholder.com/100",className:"align-self-start mr-3",alt:t.title}),r.a.createElement("div",{className:"media-body"},r.a.createElement("h5",{className:"mt-0"},r.a.createElement(s.b,{to:"/article/view/".concat(t._id)},t.title)),r.a.createElement("span",{className:"badge ".concat(e.getStyle(t.keyword[0]))},t.keyword[0]),r.a.createElement("p",null,t.body.length>200?t.body.substring(0,200)+"...":t.body),r.a.createElement("p",{className:"text-muted"},r.a.createElement("b",null,t.author_name)," ",C()(new Date(t.createdAt)).fromNow())))})))))}}]),t}(r.a.Component),k=Object(c.b)((function(e){return{articles:e.home.articles}}),(function(e){return{onLoad:function(t){return e({type:"HOME_PAGE_LOADED",data:t})}}}))(O),j=a(8),S=a(53),L=a.n(S),_=a(54),A=a.n(_),T=["Sports","Music","Arts","Education","Technology","Software"],I=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",body:"",keyword:"",author:"",error:""},a.handleDelete=function(){return y.a.post("http://localhost:8000/api/articles/remove",{_id:a.state._id}).then((function(){console.log("Article deleted.."),window.location.pathname="/"}))},a.handleSubmit=function(){var e=a.state,t=e._id,n=e.title,r=e.body,l=e.keyword,o=e.author;if(""!==n&&""!==r&&""!==l&&""!==o)return y()("http://localhost:8000/api/articles/".concat(t),{method:"PATCH",data:{title:n,body:r,keyword:l,author:o},headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Methods":"*"}}).then((function(){window.location.pathname="/article/view/".concat(t)})).catch((function(e){a.setState({error:e})}));a.setState({error:"Required fields missing"})},a.handleChangeField=function(e,t){a.setState(Object(j.a)({},e,t.target.value))},a.handleChangeEditor=function(e){a.setState({body:e})},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.articleId,n=t.user;y()("http://localhost:8000/articles/".concat(a)).then((function(t){var a=t.data;e.setState({_id:a.article._id,title:a.article.title,body:a.article.body,keyword:a.article.keyword,author:n.username})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t._id,n=t.title,l=t.body,o=t.keyword,c=t.error;return r.a.createElement("div",{className:"col-12"},""!==c?r.a.createElement("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert"},r.a.createElement("span",{className:"glyphicon glyphicon-exclamation-sign","aria-hidden":"true"}),c):r.a.createElement("div",null),r.a.createElement("input",{onChange:function(t){return e.handleChangeField("title",t)},value:n,className:"form-control my-3",placeholder:"Article Title"}),r.a.createElement("select",{className:"form-control",value:o,onChange:function(t){return e.handleChangeField("keyword",t)}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Select Keyword"),T.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement(L.a,{editor:A.a,data:l,value:l,onChange:function(t,a){var n=a.getData();e.handleChangeEditor(n)}}),r.a.createElement(s.b,{to:"/article/view/".concat(a)},r.a.createElement("button",{type:"button",className:"btn btn-link"},"Cancel")),r.a.createElement("button",{onClick:function(){return e.handleDelete(a)},type:"button",className:"btn btn-danger"},"Delete"),r.a.createElement("button",{onClick:this.handleSubmit,className:"btn btn-primary float-right"},"Update"))}}]),t}(r.a.Component),F=Object(c.b)((function(e){return{user:e.user}}),null)(I),x=Object(c.b)((function(e){return{articles:e.home.articles}}),null)((function(){return r.a.createElement("div",{className:"app_container container"},r.a.createElement("div",null,r.a.createElement("div",{className:"col-12"},r.a.createElement("h1",{className:"text-center"},"Edit")),r.a.createElement(F,{articleId:(void 0).props.match.params.articleId})))})),U=a(202),P=a(204),D=a(94),M=a.n(D),R=a(95),B=a.n(R),G=a(214),H=a(208),z=a(206),W=a(207),J=a(205),q=a(209),K=a(215),V=a(160),Y=a(199),Q=a(198),X=a(216),Z=function(){return r.a.createElement("div",{style:{width:"100%",textAlign:"center"}},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))},$=a(212),ee=a(203),te=a(201),ae=(r.a.Component,function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={article:{},isAuthor:!1,isLoading:!0,articleLiked:!1,isPopupOpen:!1},a.handleLike=function(){var e=a.props.match.params.articleId,t=a.props.user;Object.keys(t).length>0?(y.a.post("http://localhost:8000/api/articles/vote",{_id:e}).then((function(e){var t=e.data;a.setState({article:t.article})})),a.setState((function(e){return{articleLiked:!e.articleLiked}}))):a.setState({isPopupOpen:!0})},a.handleClosePopup=function(){a.setState({isPopupOpen:!1})},a.loadBody=function(){var e=a.state.article,t=setInterval((function(){null!=document.querySelector("#article_content")&&(document.querySelector("#article_content").innerHTML=e.body,clearInterval(t))}),500)},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.articleId;y()("http://localhost:8000/articles/".concat(t)).then((function(t){var a=t.data,n=e.props.user;e.setState({article:a.article,articleLiked:-1!==a.article.upvotes.indexOf(n._id),isAuthor:a.article.author_id===n._id,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.article,a=e.isLoading,n=e.isAuthor,l=e.articleLiked,o=e.isPopupOpen;return r.a.createElement("div",null,r.a.createElement(N.Helmet,null,r.a.createElement("title",null,t.title)),r.a.createElement("div",{className:"app_container jumbotron"},a?r.a.createElement(Z,null):r.a.createElement("div",null,r.a.createElement("h1",{className:"display-4"},t.title),r.a.createElement(V.a,{alignItems:"flex-start",style:{paddingTop:0,paddingBottom:0}},r.a.createElement(Q.a,null,r.a.createElement(X.a,{alt:t.author_name,src:"/static/images/avatar/1.jpg"})),r.a.createElement(Y.a,{primary:r.a.createElement(r.a.Fragment,null,t.author_name," ",n?"":r.a.createElement(U.a,{variant:"outlined",color:"primary",size:"small",style:{lineHeight:1.35,paddingTop:0,paddingBottom:0,marginLeft:5}},"Follow")),secondary:r.a.createElement(r.a.Fragment,null,C()(new Date(t.createdAt)).calendar())})),n?r.a.createElement("p",{className:"lead"},r.a.createElement(s.b,{to:"/article/edit/".concat(t._id)},"Edit")):"",r.a.createElement("hr",{className:"mb-4"}),r.a.createElement("div",{id:"article_content"},this.loadBody()),r.a.createElement("br",null),r.a.createElement(K.a,{label:t.keyword,variant:"outlined"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(P.a,{"aria-label":"delete",className:"thumbs_up",onClick:this.handleLike},l?r.a.createElement(M.a,{style:{cursor:"pointer"},color:"primary",fontSize:"large"}):r.a.createElement(B.a,{style:{cursor:"pointer"},color:"primary",fontSize:"large"})),r.a.createElement("span",{style:{color:"#3f50b5",fontSize:25,verticalAlign:"middle",marginLeft:10}},t.upvotes.length)),r.a.createElement("hr",null))),r.a.createElement(G.a,{open:o,TransitionComponent:ne,keepMounted:!0,onClose:this.handleClosePopup,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(J.a,{id:"alert-dialog-slide-title"},"User not logged in"),r.a.createElement(z.a,null,r.a.createElement(W.a,{id:"alert-dialog-slide-description"},"You must be logged in to Like or Comment on a post.")),r.a.createElement(H.a,null,r.a.createElement(U.a,{color:"primary",onClick:this.handleClosePopup},"Close"),r.a.createElement(s.b,{to:"/account/create-account"},r.a.createElement(U.a,{color:"primary"},"Create New Account")),r.a.createElement(s.b,{to:"/account/login"},r.a.createElement(U.a,{color:"primary"},"Login")))))}}]),t}(r.a.Component)),ne=r.a.forwardRef((function(e,t){return r.a.createElement(q.a,Object.assign({direction:"down",ref:t},e))})),re=Object(c.b)((function(e){return{user:e.user}}),null)(ae),le=["Sports","Music","Arts","Education","Technology","Software"],oe=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",keyword:"",body:"",author:"",error:""},a.handleCancel=function(){var e=a.props.onCancel;a.setState({title:"",keyword:"",body:"",author:""}),e()},a.handleSubmit=function(){var e=a.props.onSubmit,t=a.state,n=t.title,r=t.keyword,l=t.body;if(""!==n&&""!==l&&""!==r)return y.a.post("http://localhost:8000/api/articles/add",{title:n,keyword:r,body:l}).then((function(t){return e(t.data)}));a.setState({error:"Required fields missing"})},a.handleChangeEditor=function(e){a.setState({body:e})},a.handleChangeField=function(e,t){a.setState(Object(j.a)({},e,t.target.value))},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user;"undefined"!==typeof e.username&&this.setState({author:e.username})}},{key:"render",value:function(){var e=this,t=this.state,a=t.title,n=t.keyword,l=t.body,o=t.error;return r.a.createElement("div",{className:"app_container col-12 col-lg-8 offset-lg-2",style:{padding:"2% 6%"}},""!==o?r.a.createElement("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert"},r.a.createElement("span",{className:"glyphicon glyphicon-exclamation-sign","aria-hidden":"true"}),o):r.a.createElement("div",null),r.a.createElement("h1",{style:{textAlign:"center"}},"Create something"),r.a.createElement("input",{onChange:function(t){return e.handleChangeField("title",t)},value:a,className:"form-control my-3",placeholder:"Article Title"}),r.a.createElement("select",{className:"form-control mb-3",value:n,onChange:function(t){return e.handleChangeField("keyword",t)}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Select Keyword"),le.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement(L.a,{editor:A.a,data:"<p>Hello from CKEditor 5!</p>",value:l,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(t,a){var n=a.getData();e.handleChangeEditor(n)}}),r.a.createElement(s.b,{to:"/"},r.a.createElement("button",{onClick:this.handleCancel,type:"button",className:"btn btn-link my-3"},"Cancel")),r.a.createElement("button",{onClick:this.handleSubmit,className:"btn btn-primary float-right my-3"},"Create Blog"))}}]),t}(r.a.Component),ce=Object(c.b)((function(e){return{user:e.user}}),(function(e){return{onSubmit:function(t){return e({type:"SUBMIT_ARTICLE",data:t})},onCancel:function(){return e({type:"CANCEL_EDIT"})}}}))(oe),ie=(a(158),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",isLoading:!1,isFacebookLoading:!1,error:""},a.handleChangeField=function(e,t){a.setState(Object(j.a)({},e,t.target.value))},a.handleLogin=function(){var e=a.state,t=e.username,n=e.password,r=a.props.setLoggedInUser;a.setState({isLoading:!0}),""===t||""===n?a.setState({isLoading:!1,error:"Missing username/password. Try again."}):y.a.post("http://localhost:8000/login",{username:t,password:n}).then((function(e){var t=e.data;t.error?a.setState({isLoading:!1,error:t.error[0]}):(localStorage.setItem("JWT-Token",t.token),r(t),window.location.pathname="/account/profile")}))},a.handleFacebookResponse=function(e){console.log(e),a.setState({isFacebookLoading:!1})},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password,l=t.error,o=t.isLoading;t.isFacebookLoading;return r.a.createElement("div",{className:"app_container col-lg-6 offset-lg-3 col-md-8 offset-md-2 col-sm-10 offset-sm-1"},""!==l?r.a.createElement("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert"},r.a.createElement("span",{className:"glyphicon glyphicon-exclamation-sign","aria-hidden":"true"}),l):r.a.createElement("div",null),r.a.createElement("h1",{style:{textAlign:"center"}},"Login"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputUsername"},"Username/Email"),r.a.createElement("input",{onChange:function(t){return e.handleChangeField("username",t)},name:"username",value:a,className:"form-control mb-2",id:"inputUsername",placeholder:"Username"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputPassword"},"Password"),r.a.createElement("input",{onChange:function(t){return e.handleChangeField("password",t)},name:"password",type:"password",className:"form-control mb-2",placeholder:"Password",id:"inputPassword",value:n})),r.a.createElement("div",{className:"form-check mb-2 mr-sm-2"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"inlineFormCheck",name:"rememberme"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"inlineFormCheck"},"Remember me"),r.a.createElement(s.b,{to:"/account/password-reset",className:"float-right"},"Forgot Password?")),o?r.a.createElement(Z,null):r.a.createElement("button",{onClick:this.handleLogin,className:"btn btn-primary my-2",style:{width:"100%"}},"Login"),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("h5",{style:{textAlign:"center",width:"100%"},className:"mb-3"},"Don't have an account?"),r.a.createElement(s.b,{to:"/account/create-account"},r.a.createElement("button",{onClick:this.handleSubmit,className:"btn btn-outline-primary",style:{width:"100%"}},"Signup Today"))))}}]),t}(r.a.Component)),se=Object(c.b)(null,(function(e){return{setLoggedInUser:function(t){return e({type:"LOGIN",user:t})}}}))(ie),me=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",error:""},a.handleChangeField=function(e,t){a.setState(Object(j.a)({},e,t.target.value))},a.handleSubmit=function(){},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.error;return r.a.createElement("div",{className:"app_container col-lg-6 offset-lg-3 col-md-8 offset-md-2 col-sm-10 offset-sm-1"},""!==n?r.a.createElement("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert"},r.a.createElement("span",{className:"glyphicon glyphicon-exclamation-sign","aria-hidden":"true"}),n):r.a.createElement("div",null),r.a.createElement("h1",{style:{textAlign:"center"}},"Password Reset"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputEmail"},"Enter the email address that you used to register. We'll send you an email with your username and a link to reset your password."),r.a.createElement("input",{onChange:function(t){return e.handleChangeField("email",t)},name:"email",value:a,className:"form-control mb-2",id:"inputEmail",placeholder:"Email"})),r.a.createElement("button",{onClick:this.handleSubmit,className:"btn btn-primary my-2",style:{width:"100%"}},"Login"))}}]),t}(r.a.Component),ue=Object(c.b)(null,(function(e){return{onSubmit:function(t){return e({type:"SUBMIT_ARTICLE",data:t})},onCancel:function(){return e({type:"CANCEL_EDIT"})}}}))(me),de=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={full_name:"",email:"",username:"",password:"",confirm_password:"",is_loading:!1,error:""},a.handleChangeField=function(e,t){a.setState(Object(j.a)({},e,t.target.value))},a.handleCreateAccount=function(){var e=a.state,t=e.full_name,n=e.email,r=e.username,l=e.password,o=e.confirm_password,c=a.props.setLoggedInUser;a.setState({isLoading:!0}),""===t||""===n||""===r||""===l||""===o?a.setState({isLoading:!1,error:"Missing fields. Try again."}):l!==o?a.setState({isLoading:!1,error:"Passwords don't match"}):y.a.post("http://localhost:8000/signup",{full_name:t,email:n,username:r,password:l}).then((function(e){var t=e.data;t.error?a.setState({isLoading:!1,error:t.error[0]}):(a.setState({isLoading:!1}),localStorage.setItem("JWT-Token",t.token),c(t.user),window.location.pathname="/account/profile")}))},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.full_name,n=t.username,l=t.email,o=t.password,c=t.confirm_password,i=t.error,m=t.is_loading;return r.a.createElement("div",{className:"app_container col-lg-6 offset-lg-3 col-md-8 offset-md-2 col-sm-10 offset-sm-1",style:{padding:"4%"}},""!==i?r.a.createElement("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert"},r.a.createElement("span",{className:"glyphicon glyphicon-exclamation-sign","aria-hidden":"true"}),i):r.a.createElement("div",null),r.a.createElement("h1",{style:{textAlign:"center"}},"Create New Account"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputFullName"},"Full Name"),r.a.createElement("input",{onChange:function(t){return e.handleChangeField("full_name",t)},name:"fullName",className:"form-control mb-2",id:"inputFullName",placeholder:"Full Name",value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputUsername"},"Username"),r.a.createElement("input",{onChange:function(t){return e.handleChangeField("username",t)},name:"username",className:"form-control mb-2",id:"inputUsername",placeholder:"Username",value:n})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputEmail"},"Email"),r.a.createElement("input",{onChange:function(t){return e.handleChangeField("email",t)},name:"email",className:"form-control mb-2",id:"inputEmail",placeholder:"Email",value:l})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputPassword"},"Password"),r.a.createElement("input",{onChange:function(t){return e.handleChangeField("password",t)},name:"password",type:"password",className:"form-control mb-2",placeholder:"Password",id:"inputPassword",value:o})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputConfirmPassword"},"Confirm Password"),r.a.createElement("input",{onChange:function(t){return e.handleChangeField("confirm_password",t)},name:"confirmpassword",type:"password",className:"form-control mb-2",placeholder:"Confirm Password",id:"inputConfirmPassword",value:c})),m?r.a.createElement(Z,null):r.a.createElement("button",{onClick:this.handleCreateAccount,className:"btn btn-primary",style:{width:"100%"}},"Create Account"),r.a.createElement(s.b,{to:"/account/login"},r.a.createElement("button",{onClick:this.handleSubmit,className:"btn my-2",style:{width:"100%"}},"Login With Existing Account")))}}]),t}(r.a.Component),pe=Object(c.b)(null,(function(e){return{setLoggedInUser:function(t){return e({type:"LOGIN",user:t})}}}))(de),he=void 0,ge=Object(c.b)((function(e){return{user:e.user}}),null)((function(e){var t=e.user;return r.a.createElement("div",null,r.a.createElement("div",{className:"app_container container"},r.a.createElement("div",null,r.a.createElement("div",{className:"col-12 col-lg-6 offset-lg-3"},r.a.createElement("h1",{className:"text-center"},"My Account"))),r.a.createElement("div",{className:"row pt-5"},r.a.createElement("div",{className:"col-12"},r.a.createElement("p",null,"Welcome ",t.full_name,"!"))),r.a.createElement("div",{className:"row pt-5"},r.a.createElement("div",{className:"col-12"},r.a.createElement("button",{onClick:function(){return he.handleDelete()},type:"button",className:"btn btn-danger"},"Delete Account")))),r.a.createElement("div",{className:"app_container container"},r.a.createElement("div",null,r.a.createElement("div",{className:"col-12 col-lg-6 offset-lg-3"},r.a.createElement("i",null,"Comments:")))))})),fe=a(97),be=a(210),Ee=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.handleLogout=function(){var e=a.props.removeLoggedInUser;localStorage.removeItem("JWT-Token"),e()},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state.anchorEl;return r.a.createElement("div",{className:"nav-item dropdown",id:"login_button",style:{marginLeft:16}},r.a.createElement(U.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:this.handleClick},r.a.createElement(X.a,{src:"/media/blank-profile-img.png",style:{width:30,height:30},alt:"Profile Image"})),r.a.createElement(fe.a,{id:"simple-menu",anchorEl:e,keepMounted:!0,open:Boolean(e),onClose:this.handleClose,style:{top:45}},r.a.createElement(be.a,{onClick:this.handleClose},r.a.createElement(s.b,{to:"/account/profile",className:"dropdown-item"},"Profile")),r.a.createElement(be.a,{onClick:this.handleClose},r.a.createElement(s.b,{to:"/",className:"dropdown-item",onClick:this.handleLogout},"Logout"))))}}]),t}(r.a.Component),ve=Object(c.b)(null,(function(e){return{removeLoggedInUser:function(){return e({type:"LOGOUT"})}}}))(Ee),ye=a(211),we=a(96),Ce=a.n(we),Ne=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null,notifications:100},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget,notifications:0})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.anchorEl,a=e.notifications;return r.a.createElement("div",{className:"nav-item dropdown",id:"login_button",style:{marginRight:26}},r.a.createElement(U.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:this.handleClick,style:{color:"#fff"}},r.a.createElement(ye.a,Object.assign({badgeContent:a,max:99},Oe))),r.a.createElement(fe.a,{id:"simple-menu",anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:this.handleClose,style:{top:45}},r.a.createElement(be.a,null,"Test"),r.a.createElement(be.a,null,"Test")))}}]),t}(r.a.Component),Oe={color:"secondary",children:r.a.createElement(Ce.a,null)},ke=(Object(c.b)(null,(function(e){return{removeLoggedInUser:function(){return e({type:"LOGOUT"})}}}))(Ne),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedIn:!1},a.toggleSearch=function(){var e=document.getElementById("search_form");-1!==e.className.indexOf("search_show")?e.className="search_hide":(e.className="search_show",e.querySelector("input").focus())},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.setLoggedInUser,n=t.setLoggedOutUser,r=localStorage.getItem("JWT-Token");r?(y.a.defaults.headers.common={Authorization:"Bearer "+r},y.a.get("http://localhost:8000/api/users/profile").then((function(t){if(t.data&&t.data.error)return n(),void localStorage.removeItem("JWT-Token");var r=t.data;a(r),e.setState({isLoggedIn:!0})})).catch((function(e){console.log(e)}))):(console.log("[ App ] Error: No token found!"),n())}},{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light bg-dark",id:"navbar"},r.a.createElement(s.b,{to:"/",className:"navbar-brand"},"Blog of Interests"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon","aria-hidden":"true"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"}),r.a.createElement("button",{id:"search_button",onClick:this.toggleSearch,style:{marginRight:"1%"}},r.a.createElement("svg",{className:"bi bi-search",width:"1.5em",height:"1.5em",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",style:{color:"#fff"}},r.a.createElement("path",{fillRule:"evenodd",d:"M12.442 12.442a1 1 0 011.415 0l3.85 3.85a1 1 0 01-1.414 1.415l-3.85-3.85a1 1 0 010-1.415z",clipRule:"evenodd"}),r.a.createElement("path",{fillRule:"evenodd",d:"M8.5 14a5.5 5.5 0 100-11 5.5 5.5 0 000 11zM15 8.5a6.5 6.5 0 11-13 0 6.5 6.5 0 0113 0z",clipRule:"evenodd"}))),r.a.createElement("form",Object(j.a)({className:"form-inline my-2 my-lg-0",id:"search_form"},"className","hide"),r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search",autoFocus:!0})),0===Object.keys(this.props.user).length?r.a.createElement(s.b,{to:"/account/login"},r.a.createElement("button",{className:"btn btn-success my-2 my-sm-0",type:"button",id:"create_button"},"Login")):r.a.createElement(s.b,{to:"/article/create"},r.a.createElement("button",{className:"btn btn-success my-2 my-sm-0",type:"button",id:"create_button"},"Create!")),0===Object.keys(this.props.user).length?r.a.createElement("span",null):r.a.createElement(ve,null)))}}]),t}(r.a.Component)),je=Object(c.b)((function(e){return{user:e.user}}),(function(e){return{setLoggedInUser:function(t){return e({type:"LOGIN",user:t})},setLoggedOutUser:function(){return e({type:"LOGOUT"})}}}))(ke),Se=Object(i.f)((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(je,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:k}),r.a.createElement(i.a,{exact:!0,path:"/account/login",component:se}),r.a.createElement(i.a,{exact:!0,path:"/account/profile",component:ge}),r.a.createElement(i.a,{exact:!0,path:"/account/password-reset",component:ue}),r.a.createElement(i.a,{exact:!0,path:"/account/create-account",component:pe}),r.a.createElement(i.a,{exact:!0,path:"/article/create",component:ce}),r.a.createElement(i.a,{exact:!0,path:"/article/edit/:articleId",component:x}),r.a.createElement(i.a,{exact:!0,path:"/article/view/:articleId",component:re})))})),Le=a(25).createBrowserHistory;o.a.render(r.a.createElement(i.b,{history:Le()},r.a.createElement(c.a,{store:p},r.a.createElement(s.a,null,r.a.createElement(Se,null)))),document.getElementById("root"))}},[[109,1,2]]]);
//# sourceMappingURL=main.94992fe5.chunk.js.map